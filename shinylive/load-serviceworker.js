"use strict";function t(r){return r==="/"||r===""?"":r.replace(/[/]?[^/]+[/]?$/,"")}function n(){return new URL(import.meta.url).pathname}function e(){return t(n())}var o=["localhost","127.0.0.1","[::1]"];if(window.location.protocol!=="https:"&&!o.includes(window.location.hostname)){let r="Shinylive uses a Service Worker, which requires either a connection to localhost, or a connection via https.";throw document.body.innerText=r,Error(r)}var i=t(e())+"/serviceworker.js";"serviceWorker"in navigator&&(navigator.serviceWorker.register(i).then(()=>console.log("Service Worker registered")).catch(()=>console.log("Service Worker registration failed")),navigator.serviceWorker.ready.then(()=>{navigator.serviceWorker.controller||window.location.reload()}));
